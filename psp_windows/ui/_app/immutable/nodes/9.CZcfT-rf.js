import{i as _,p as va,c as Ue}from"../chunks/woX702LQ.js";import{p as Oe,f as v,c as t,b as s,r as a,t as b,h as l,k as p,j as Ce,A as Se,g as X,i as e,u as q,ap as ma,e as ce,a as pa,l as ga,s as ia,z as ba,d as je,n as ha}from"../chunks/B9aKyTE9.js";import{R as xa,q as aa,f as ye,s as be,c as _a,z as ka,B as Pe,F as ya,y as wa,h as Ae,G as Pa,j as De,H as ua,J as Me,K as ta,N as Fe,O as Ia,Q as $e,U as Sa,V as ja,t as ea,W as Aa,X as da,L as Da,l as Oa,Y as U,a as Ca,D as La,d as Ta,M as za}from"../chunks/FTlQNedl.js";import{s as S,c as ca,b as sa,d as fa,A as Ee}from"../chunks/DPqr1Em3.js";import"../chunks/B7z-6CDi.js";import{b as Na}from"../chunks/CHBWxhb-.js";import{N as Ba}from"../chunks/BVdvzYUS.js";import{R as qa}from"../chunks/nvkXWzLC.js";var Ea=v('<div class="flex items-center space-x-2"><span class="font-bold"> </span> <span> </span></div>'),Ha=v('<div class="grid grid-cols-2 gap-2"><!> <!> <!> <!> <!> <!></div>'),Ma=v('<div class="absolute -left-4 -top-1 h-6 w-6 xl:h-8 xl:w-8"><img alt="Alpha" class="pal-element-badge"/></div>'),Fa=v('<div class="absolute -left-4 -top-1 h-6 w-6 xl:h-8 xl:w-8"><img alt="Lucky" class="pal-element-badge"/></div>'),Ka=v("<div><img/></div>"),Ra=v('<div class="flex flex-col"><div class="relative flex items-center justify-center"><!> <!> <img class="ml-4 h-20 w-20 rounded-full"/> <!> <div class="absolute -bottom-4 -right-6 h-6 w-6 xl:h-8 xl:w-8"><!></div></div></div>'),Ua=v('<img class="h-4 w-4"/>'),Wa=v('<div class="flex items-center space-x-2"><!> <span> </span> <span class="text-xs"> </span></div>'),Ga=v("<div> </div>"),Va=v('<div class="flex gap-2 rounded-sm p-4"><span class="font-bold">Active Skills:</span> <span class="border-r-surface-600 border-r pr-2"> </span> <div class="ml-4 mt-1"></div></div>'),Ya=v('<img class="h-4 w-4"/>'),Qa=v('<div class="flex items-center space-x-2"><!> <span> </span></div>'),Ja=v("<div> </div>"),Xa=v('<div class="flex gap-2 rounded-sm p-4"><span class="font-bold">Passive Skills:</span> <span class="border-r-surface-600 border-r pr-2"> </span> <div class="ml-4 mt-1 grid grid-cols-2 gap-2"></div></div>'),Za=v('<div><span class="font-bold">Learned Skills:</span> </div>'),$a=v('<div><h5 class="h5 border-b-surface-600 mb-2 border-b-2 py-4">Skills</h5> <div class="grid grid-cols-2 gap-2"><!> <!> <!></div></div>'),et=v('<span class="p-2 text-lg font-bold"> </span>'),at=v('<div class="flex items-center space-x-2"><!> <span class="text-lg"> </span></div>'),tt=v('<div class="border-l-surface-600 bg-surface-800 relative w-full overflow-hidden rounded-none border-l-2 p-0 shadow-none"><div class="flex w-full items-center"><img class="ml-2 h-4 w-4 2xl:h-6 2xl:w-6"/> <span class="p-2 font-bold 2xl:text-lg"> </span></div></div>'),st=v('<h5 class="h5 border-b-surface-600 mb-2 border-b-2 py-4">Work Suitability</h5> <div class="flex gap-2"></div>',1),rt=v('<div class="space-y-4"><div class="grid grid-cols-2 gap-2"><div class="flex flex-col"><h5 class="h5 border-b-surface-600 mb-2 border-b-2 py-4">Attributes</h5> <div class="flex w-full justify-center gap-2 rounded-sm p-4"><div class="flex flex-col items-center justify-center"><!> <span class="text-surface-400 font-bold">LEVEL</span> <span class="text-4xl font-bold"> </span></div> <!></div></div> <div class="space-y-2"><h5 class="h5 border-b-surface-600 mb-2 border-b-2 py-4">Stats</h5> <div class="flex flex-col"><span class="text-surface-300 mr-1">IVs</span> <div class="flex justify-center space-x-2"><div class="chip bg-green-700"><img alt="HP" class="h-4 w-4"/> <span class="text-sm font-bold"> </span></div> <div class="chip bg-red-700"><img alt="Attack" class="h-6 w-6"/> <span class="text-sm font-bold"> </span></div> <div class="chip bg-blue-700"><img alt="Defense" class="h-6 w-6"/> <span class="text-sm font-bold"> </span></div></div></div> <div class="flex flex-col"><span class="text-surface-300 mr-1">Souls</span> <div class="flex justify-center space-x-2"><div class="chip bg-green-700"><img alt="HP" class="h-4 w-4"/> <span class="text-sm font-bold"> </span></div> <div class="chip bg-red-700"><img alt="Attack" class="h-6 w-6"/> <span class="text-sm font-bold"> </span></div> <div class="chip bg-blue-700"><img alt="Defense" class="h-6 w-6"/> <span class="text-sm font-bold"> </span></div> <div class="chip bg-purple-700"><img alt="Defense" class="h-6 w-6"/> <span class="text-sm font-bold"> </span></div></div></div></div></div> <!> <!></div>');function lt(Z,r){Oe(r,!0);const i={EmitFlame:"kindling",Watering:"watering",Seeding:"planting",GenerateElectricity:"generating",Handcraft:"handiwork",Collection:"gathering",Deforest:"deforesting",Mining:"mining",OilExtraction:"extracting",ProductMedicine:"production",Cool:"cooling",Transport:"transporting",MonsterFarm:"farming"};let L=q(()=>{const P={};for(const x of Object.keys(ta.elements)){const K=ta.elements[x];K&&(P[x]=ye.loadImage(`${Pe}/img/${K.badge_icon}.webp`))}return P}),j=q(()=>{const P={};for(const x of Object.values(Me.passiveSkills))P[x.details.rank]||(P[x.details.rank]=ye.loadImage(`${Pe}/img/rank_${x.details.rank}.webp`));return P});function H(P){const x=Me.getByKey(P);if(!x||x.localized_name==="None")return"";switch(x.details.rank){case 1:return"";case 2:case 3:return Fe("#fcdf19");case 4:return Fe("#68ffd8");default:return Fe("#FF0000")}}var E=rt(),u=t(E),y=t(u),n=s(t(y),2),A=t(n),$=t(A);xa($,{get value(){return r.preset.pal_preset.rank},count:4,itemClasses:"text-gray",disabled:!0});var pe=s($,4),me=t(pe,!0);a(pe),a(A);var ee=s(A,2);aa(ee,{popup:x=>{var K=Ha();const I=(h,Q=Se,d=Se)=>{var k=Ea(),D=t(k),fe=t(D);a(D);var we=s(D,2),ie=t(we,!0);a(we),a(k),b(()=>{p(fe,`${Q()??""}:`),p(ie,d())}),l(h,k)};var re=t(K);I(re,()=>"Lucky",()=>r.preset.pal_preset.is_lucky?"Yes":"No");var ue=s(re,2);I(ue,()=>"Alpha",()=>r.preset.pal_preset.is_boss?"Yes":"No");var he=s(ue,2);{var ge=h=>{I(h,()=>"Gender",()=>r.preset.pal_preset.gender)};_(he,h=>{r.preset.pal_preset.gender&&h(ge)})}var V=s(he,2);{var C=h=>{I(h,()=>"Level",()=>r.preset.pal_preset.level)};_(V,h=>{r.preset.pal_preset?.level&&h(C)})}var R=s(V,2);{var Y=h=>{I(h,()=>"Rank",()=>r.preset.pal_preset.rank)};_(R,h=>{r.preset.pal_preset?.rank&&h(Y)})}var oe=s(R,2);{var N=h=>{I(h,()=>"Locked to",()=>r.preset.pal_preset.character_id||"None")};_(oe,h=>{r.preset.pal_preset?.lock&&h(N)})}a(K),l(x,K)},children:(x,K)=>{var I=Ra(),re=t(I),ue=t(re);{var he=d=>{var k=Ma(),D=t(k);a(k),b(()=>S(D,"src",be.alphaIcon)),l(d,k)};_(ue,d=>{r.preset.pal_preset.is_boss&&d(he)})}var ge=s(ue,2);{var V=d=>{var k=Fa(),D=t(k);a(k),b(()=>S(D,"src",be.luckyIcon)),l(d,k)};_(ge,d=>{r.preset.pal_preset.is_lucky&&d(V)})}var C=s(ge,2),R=s(C,2);{var Y=d=>{var k=Ka(),D=t(k);a(k),b((fe,we)=>{sa(k,1,fe),S(D,"src",we),S(D,"alt",r.preset.pal_preset.gender)},[()=>ca(_a("absolute -right-4 -top-1 h-6 w-6 xl:h-8 xl:w-8",r.preset.pal_preset.gender==ka.MALE?"text-primary-300":"text-tertiary-300")),()=>ye.loadImage(`${Pe}/img/${r.preset.pal_preset.gender}.webp`)]),l(d,k)};_(R,d=>{r.preset.pal_preset.gender&&d(Y)})}var oe=s(R,2),N=t(oe);{var h=d=>{ya(d,{class:"h-4 w-4"})},Q=d=>{wa(d,{class:"h-4 w-4"})};_(N,d=>{r.preset.pal_preset.lock?d(h):d(Q,!1)})}a(oe),a(re),a(I),b(d=>{S(C,"src",d),S(C,"alt",r.preset.pal_preset.character_id)},[()=>ye.loadMenuImage(r.preset.pal_preset.character_id)]),l(x,I)},$$slots:{popup:!0,default:!0}}),a(n),a(y);var T=s(y,2),O=s(t(T),2),W=s(t(O),2),ae=t(W),te=t(ae),_e=s(te,2),se=t(_e,!0);a(_e),a(ae);var G=s(ae,2),m=t(G),z=s(m,2),de=t(z,!0);a(z),a(G);var le=s(G,2),ne=t(le),f=s(ne,2),g=t(f,!0);a(f),a(le),a(W),a(O);var We=s(O,2),Le=s(t(We),2),Ie=t(Le),Ge=t(Ie),Ve=s(Ge,2),Ke=t(Ve,!0);a(Ve),a(Ie);var Te=s(Ie,2),Ye=t(Te),Qe=s(Ye,2),Je=t(Qe,!0);a(Qe),a(Te);var ze=s(Te,2),Xe=t(ze),Ze=s(Xe,2),ra=t(Ze,!0);a(Ze),a(ze);var o=s(ze,2),c=t(o),M=s(c,2),xe=t(M,!0);a(M),a(o),a(Le),a(We),a(T),a(u);var J=s(u,2);{var B=P=>{var x=$a(),K=s(t(x),2),I=t(K);{var re=C=>{var R=Va(),Y=s(t(R),2),oe=t(Y,!0);a(Y);var N=s(Y,2);Ae(N,21,()=>r.preset.pal_preset.active_skills,De,(h,Q)=>{const d=q(()=>ua.getByKey(e(Q)));var k=ce(),D=X(k);{var fe=ie=>{var ve=Wa(),ke=t(ve);{var la=Re=>{var oa=Ua();b(()=>{S(oa,"src",e(L)[e(d).details.element]),S(oa,"alt",e(d).details.element)}),l(Re,oa)};_(ke,Re=>{e(d).details.element&&e(L)[e(d).details.element]&&Re(la)})}var Ne=s(ke,2),na=t(Ne,!0);a(Ne);var Be=s(Ne,2),qe=t(Be);a(Be),a(ve),b(()=>{p(na,e(d).localized_name),p(qe,`(${(e(d).details.power===0?"NA":e(d).details.power)??""})`)}),l(ie,ve)},we=ie=>{var ve=Ga(),ke=t(ve,!0);a(ve),b(()=>p(ke,e(Q))),l(ie,ve)};_(D,ie=>{e(d)?ie(fe):ie(we,!1)})}l(h,k)}),a(N),a(R),b(()=>p(oe,r.preset.pal_preset.active_skills.length)),l(C,R)};_(I,C=>{r.preset.pal_preset.active_skills&&r.preset.pal_preset.active_skills.length>0&&C(re)})}var ue=s(I,2);{var he=C=>{var R=Xa(),Y=s(t(R),2),oe=t(Y,!0);a(Y);var N=s(Y,2);Ae(N,21,()=>r.preset.pal_preset.passive_skills,De,(h,Q)=>{const d=q(()=>Me.getByKey(e(Q)));var k=ce(),D=X(k);{var fe=ie=>{var ve=Qa(),ke=t(ve);{var la=Be=>{var qe=Ya();b(Re=>{S(qe,"src",e(j)[e(d).details.rank]),S(qe,"alt",`Rank ${e(d).details.rank}`),fa(qe,`filter: ${Re??""};`)},[()=>H(e(Q))]),l(Be,qe)};_(ke,Be=>{e(j)[e(d).details.rank]&&Be(la)})}var Ne=s(ke,2),na=t(Ne,!0);a(Ne),a(ve),b(()=>p(na,e(d).localized_name)),l(ie,ve)},we=ie=>{var ve=Ja(),ke=t(ve,!0);a(ve),b(()=>p(ke,e(Q))),l(ie,ve)};_(D,ie=>{e(d)?ie(fe):ie(we,!1)})}l(h,k)}),a(N),a(R),b(()=>p(oe,r.preset.pal_preset.passive_skills.length)),l(C,R)};_(ue,C=>{r.preset.pal_preset.passive_skills&&r.preset.pal_preset.passive_skills.length>0&&C(he)})}var ge=s(ue,2);{var V=C=>{var R=Za(),Y=s(t(R));a(R),b(()=>p(Y,` ${r.preset.pal_preset.learned_skills.length??""}`)),l(C,R)};_(ge,C=>{r.preset.pal_preset.learned_skills&&r.preset.pal_preset.learned_skills.length>0&&C(V)})}a(K),a(x),l(P,x)};_(J,P=>{(r.preset.pal_preset.active_skills?.length||r.preset.pal_preset.passive_skills?.length||r.preset.pal_preset.learned_skills?.length)&&P(B)})}var w=s(J,2);{var F=P=>{var x=st(),K=s(X(x),2);Ae(K,21,()=>Object.entries(r.preset.pal_preset.work_suitability),De,(I,re)=>{var ue=q(()=>ma(e(re),2));let he=()=>e(ue)[0],ge=()=>e(ue)[1];const V=q(he),C=q(()=>ye.loadImage(`${Pe}/img/${i[e(V)]}.webp`));aa(I,{popup:Y=>{var oe=at(),N=t(oe);{var h=k=>{var D=et(),fe=t(D);a(D),b(()=>p(fe,`+ ${ge()??""}`)),l(k,D)};_(N,k=>{ge()!==0&&k(h)})}var Q=s(N,2),d=t(Q,!0);a(Q),a(oe),b(k=>p(d,k),[()=>Pa.workSuitability[e(V)].localized_name??i[e(V)].charAt(0).toUpperCase()+i[e(V)].slice(1)]),l(Y,oe)},children:(Y,oe)=>{var N=tt(),h=t(N),Q=t(h),d=s(Q,2),k=t(d);a(d),a(h),a(N),b(()=>{S(Q,"src",e(C)),S(Q,"alt",`${e(V)??""} icon`),p(k,`+ ${ge()??""}`)}),l(Y,N)},$$slots:{popup:!0,default:!0}})}),a(K),l(P,x)};_(w,P=>{r.preset.pal_preset.work_suitability&&Object.keys(r.preset.pal_preset.work_suitability).length>0&&P(F)})}a(E),b(()=>{p(me,r.preset.pal_preset.level),S(te,"src",be.hpIcon),p(se,r.preset.pal_preset.talent_hp),S(m,"src",be.attackIcon),p(de,r.preset.pal_preset.talent_shot),S(ne,"src",be.defenseIcon),p(g,r.preset.pal_preset.talent_defense),S(Ge,"src",be.hpIcon),p(Ke,r.preset.pal_preset.rank_hp),S(Ye,"src",be.attackIcon),p(Je,r.preset.pal_preset.rank_attack),S(Xe,"src",be.defenseIcon),p(ra,r.preset.pal_preset.rank_defense),S(c,"src",be.workSpeedIcon),p(xe,r.preset.pal_preset.rank_craftspeed)}),l(Z,E),Ce()}var nt=v('<img class="h-10 w-10"/>'),ot=v('<div class="flex items-center space-x-2"><!> <span> </span> <span class="text-surface-400"> </span></div>'),it=v("<span> </span>"),vt=v('<div class="grid grid-cols-[20%_1fr] gap-2 rounded-sm p-4"><span class="border-r-surface-600 border-r pr-2 text-lg font-bold"> </span> <div class="ml-4 mt-1 space-y-4"></div></div>');function ct(Z,r){Oe(r,!0);let i=q(()=>{const u={};for(const y of Object.keys(ta.elements)){const n=ta.elements[y];n&&(u[y]=ye.loadImage(`${Pe}/img/${n.badge_icon}.webp`))}return u});var L=vt(),j=t(L),H=t(j,!0);a(j);var E=s(j,2);Ae(E,21,()=>r.preset.skills,De,(u,y)=>{const n=q(()=>ua.getByKey(e(y)));var A=ce(),$=X(A);{var pe=ee=>{var T=ot(),O=t(T);{var W=G=>{var m=nt();b(()=>{S(m,"src",e(i)[e(n).details.element]),S(m,"alt",e(n).details.element)}),l(G,m)};_(O,G=>{e(n).details.element&&e(i)[e(n).details.element]&&G(W)})}var ae=s(O,2),te=t(ae,!0);a(ae);var _e=s(ae,2),se=t(_e);a(_e),a(T),b(()=>{p(te,e(n).localized_name),p(se,`(${(e(n).details.power===0?"NA":e(n).details.power)??""})`)}),l(ee,T)},me=ee=>{var T=it(),O=t(T,!0);a(T),b(()=>p(O,e(y))),l(ee,T)};_($,ee=>{e(n)?ee(pe):ee(me,!1)})}l(u,A)}),a(E),a(L),b(()=>p(H,r.preset.name)),l(Z,L),Ce()}var dt=v('<img class="h-10 w-10"/>'),pt=v('<div class="flex items-center space-x-2"><!> <span> </span></div>'),_t=v("<span> </span>"),ut=v('<div class="grid grid-cols-[20%_1fr] gap-2 rounded-sm p-4"><span class="border-r-surface-600 border-r pr-2 font-bold"> </span> <div class="ml-4 mt-1 grid grid-cols-2 gap-2"></div></div>');function ft(Z,r){Oe(r,!0);let i=q(()=>{const y={};for(const n of Object.values(Me.passiveSkills))y[n.details.rank]||(y[n.details.rank]=ye.loadImage(`${Pe}/img/rank_${n.details.rank}.webp`));return y});function L(y){const n=Me.getByKey(y);if(!n||n.localized_name==="None")return"";switch(n.details.rank){case 1:return"";case 2:case 3:return Fe("#fcdf19");case 4:return Fe("#68ffd8");default:return Fe("#FF0000")}}var j=ut(),H=t(j),E=t(H,!0);a(H);var u=s(H,2);Ae(u,21,()=>r.preset.skills,De,(y,n)=>{const A=q(()=>Me.getByKey(e(n)));var $=ce(),pe=X($);{var me=T=>{var O=pt(),W=t(O);{var ae=se=>{var G=dt();b(m=>{S(G,"src",e(i)[e(A).details.rank]),S(G,"alt",`Rank ${e(A).details.rank}`),fa(G,`filter: ${m??""};`)},[()=>L(e(n))]),l(se,G)};_(W,se=>{e(i)[e(A).details.rank]&&se(ae)})}var te=s(W,2),_e=t(te,!0);a(te),a(O),b(()=>p(_e,e(A).localized_name)),l(T,O)},ee=T=>{var O=_t(),W=t(O,!0);a(O),b(()=>p(W,e(n))),l(T,O)};_(pe,T=>{e(A)?T(me):T(ee,!1)})}l(y,$)}),a(u),a(j),b(()=>p(E,r.preset.name)),l(Z,j),Ce()}var mt=v('<div class="grid w-full grid-cols-[auto_1fr_auto] items-center gap-2"><div><img class="h-8 w-8"/></div> <span> </span> <span class="bg-surface-800 rounded-sm p-2 font-bold"> </span></div>'),gt=v('<div class="grid grid-cols-3 gap-2 space-y-2 2xl:grid-cols-4"></div>');function He(Z,r){Oe(r,!0);let i=va(r,"items",27,()=>pa([]));function L(H){switch(H){case $e.Uncommon:return"bg-linear-to-tl from-green-500/50";case $e.Rare:return"bg-linear-to-tl from-blue-500/50";case $e.Epic:return"bg-linear-to-tl from-purple-500/50";case $e.Legendary:return"bg-linear-to-tl from-yellow-500/50";default:return""}}var j=gt();Ae(j,21,i,De,(H,E)=>{const u=q(()=>Ia.getByKey(e(E).static_id));var y=ce(),n=X(y);{var A=$=>{const pe=q(()=>ye.loadImage(`${Pe}/img/${e(u).details.icon}.webp`));{let me=q(()=>`Slot ${e(E).slot_index+1}`);aa($,{get label(){return e(me)},children:(ee,T)=>{var O=mt(),W=t(O),ae=t(W);a(W);var te=s(W,2),_e=t(te,!0);a(te);var se=s(te,2),G=t(se,!0);a(se),a(O),b((m,z)=>{sa(W,1,m),S(ae,"src",e(pe)||be.unknownIcon),S(ae,"alt",e(u).info.localized_name),p(_e,e(u).info.localized_name),p(G,z)},[()=>ca(L(e(u).details.rarity)),()=>e(E).count.toLocaleString()]),l(ee,O)},$$slots:{default:!0}})}};_(n,$=>{e(u)&&$(A)})}l(H,y)}),a(j),l(Z,j),Ce()}var bt=v('<span class="font-bold">Common</span>'),ht=v('<span class="font-bold">Key Items</span>'),xt=v('<span class="font-bold">Weapons</span>'),kt=v('<span class="font-bold">Armor</span>'),yt=v('<span class="font-bold">Food</span>'),wt=v("<!> <!> <!> <!> <!>",1),Pt=v('<span class="text-surface-400 text-sm">No container data</span>'),It=v('<div class="space-y-4"><h5 class="h5 border-b-surface-600 mb-2 border-b-2 py-4"> </h5> <div><!> <!></div></div>');function St(Z,r){Oe(r,!0);let i=va(r,"preset",15);var L=It(),j=t(L),H=t(j,!0);a(j);var E=s(j,2),u=t(E);Ee(u,{collapsible:!0,multiple:!0,children:(A,$)=>{var pe=wt(),me=X(pe);{var ee=m=>{var z=ce(),de=X(z);{const le=f=>{var g=bt();l(f,g)},ne=f=>{He(f,{get items(){return i().common_container},set items(g){i(i().common_container=g,!0)}})};Ue(de,()=>Ee.Item,(f,g)=>{g(f,{value:"common_container",controlHover:"hover:bg-secondary-500/25",controlBase:"flex text-start items-center space-x-4 w-full bg-surface-800",control:le,panel:ne,$$slots:{control:!0,panel:!0}})})}l(m,z)};_(me,m=>{i().common_container&&i().common_container.length>0&&m(ee)})}var T=s(me,2);{var O=m=>{var z=ce(),de=X(z);{const le=f=>{var g=ht();l(f,g)},ne=f=>{He(f,{get items(){return i().essential_container},set items(g){i(i().essential_container=g,!0)}})};Ue(de,()=>Ee.Item,(f,g)=>{g(f,{value:"essential_container",controlHover:"hover:bg-secondary-500/25",controlBase:"flex text-start items-center space-x-4 w-full bg-surface-800",control:le,panel:ne,$$slots:{control:!0,panel:!0}})})}l(m,z)};_(T,m=>{i().essential_container&&i().essential_container.length>0&&m(O)})}var W=s(T,2);{var ae=m=>{var z=ce(),de=X(z);{const le=f=>{var g=xt();l(f,g)},ne=f=>{He(f,{get items(){return i().weapon_load_out_container},set items(g){i(i().weapon_load_out_container=g,!0)}})};Ue(de,()=>Ee.Item,(f,g)=>{g(f,{value:"weapon_load_out_container",controlHover:"hover:bg-secondary-500/25",controlBase:"flex text-start items-center space-x-4 w-full bg-surface-800",control:le,panel:ne,$$slots:{control:!0,panel:!0}})})}l(m,z)};_(W,m=>{i().weapon_load_out_container&&i().weapon_load_out_container.length>0&&m(ae)})}var te=s(W,2);{var _e=m=>{var z=ce(),de=X(z);{const le=f=>{var g=kt();l(f,g)},ne=f=>{He(f,{get items(){return i().player_equipment_armor_container},set items(g){i(i().player_equipment_armor_container=g,!0)}})};Ue(de,()=>Ee.Item,(f,g)=>{g(f,{value:"player_equipment_armor_container",controlHover:"hover:bg-secondary-500/25",controlBase:"flex text-start items-center space-x-4 w-full bg-surface-800",control:le,panel:ne,$$slots:{control:!0,panel:!0}})})}l(m,z)};_(te,m=>{i().player_equipment_armor_container&&i().player_equipment_armor_container.length>0&&m(_e)})}var se=s(te,2);{var G=m=>{var z=ce(),de=X(z);{const le=f=>{var g=yt();l(f,g)},ne=f=>{He(f,{get items(){return i().food_equip_container},set items(g){i(i().food_equip_container=g,!0)}})};Ue(de,()=>Ee.Item,(f,g)=>{g(f,{value:"food_equip_container",controlHover:"hover:bg-secondary-500/25",controlBase:"flex text-start items-center space-x-4 w-full bg-surface-800",control:le,panel:ne,$$slots:{control:!0,panel:!0}})})}l(m,z)};_(se,m=>{i().food_equip_container&&i().food_equip_container.length>0&&m(G)})}l(A,pe)},$$slots:{default:!0}});var y=s(u,2);{var n=A=>{var $=Pt();l(A,$)};_(y,A=>{!i().common_container&&!i().essential_container&&!i().weapon_load_out_container&&!i().player_equipment_armor_container&&!i().food_equip_container&&A(n)})}a(E),a(L),b(()=>p(H,i().name)),l(Z,L),Ce()}var jt=v('<div><div class="border-b-surface-600 mb-2 flex items-center border-b-2"><img class="mb-2 h-12 w-12"/> <h5 class="h5 py-4"> </h5></div> <!></div>');function At(Z,r){Oe(r,!0);let i=va(r,"preset",15);const L=Na.getByKey(i().storage_container.key);var j=jt(),H=t(j),E=t(H),u=s(E,2),y=t(u,!0);a(u),a(H);var n=s(H,2);He(n,{get items(){return i().storage_container.slots},set items(A){i(i().storage_container.slots=A,!0)}}),a(j),b(A=>{S(E,"src",A),S(E,"alt",L?.localized_name),p(y,L?.localized_name)},[()=>ye.loadImage(`${Pe}/img/${L?.icon}.webp`)]),l(Z,j),Ce()}async function Dt(Z,r){await r.showConfirmModal({title:"Delete Preset?",message:"Are you sure you want to delete all presets? This action will restore defaults & cannot be undone.",confirmText:"Delete",cancelText:"Cancel"})&&(await Ta(za.NUKE_PRESETS),U.reset())}var Ot=(Z,r,i,L)=>{je(r,i(),!0),je(L,[],!0)},Ct=v('<button><span class="text-xs 2xl:text-base"> </span></button>'),Lt=v('<div class="text-surface-400 text-sm">No detailed information available</div>'),Tt=v('<div class="bg-surface-900 rounded-sm p-4"><!></div>'),zt=v('<span class="font-bold">Name</span> <span class="font-bold">Actions</span>',1),Nt=v('<span class="grow"> </span>'),Bt=(Z,r,i)=>r(i()),qt=v('<!> <button class="btn hover:bg-error-500/25 p-2"><!></button>',1),Et=v('<div class="flex flex-col"><span class="text-lg font-bold"> </span> <span class="text-surface-400 text-sm"> </span></div>'),Ht=v("<div></div>"),Mt=v('<button class="btn mt-2 h-48 w-48 p-2"><!></button>'),Ft=v('<div class="flex h-full flex-col items-center justify-center"><img alt="No preset selected" class="mb-2 h-12 w-12"/> <span class="text-lg font-bold">No preset selected</span> <span class="text-surface-400 text-sm">Select a preset from the list to view details</span> <!></div>'),Kt=v('<div class="flex h-full flex-col"><div class="grid h-full w-full grid-cols-[25%_1fr]"><div class="shrink-0 space-y-2 p-4"><div class="flex items-center"><nav class="btn-group preset-outlined-surface-200-800 w-full flex-col rounded-sm p-2 md:flex-row"><!> <!> <!> <!> <!></nav></div> <div class="flex items-center space-x-2"><div class="grow"><!></div> <!></div> <div class="btn-group bg-surface-900 w-full items-center rounded-sm p-1"><!> <!></div> <!></div> <div class="overflow-y-auto p-4"><div class="h-[calc(100vh-32px)] overflow-auto"><!></div></div></div></div>');function Xt(Z,r){Oe(r,!0);const i=(o,c=Se)=>{var M=Ct();M.__click=[Ot,u,c,n];var xe=t(M),J=t(xe,!0);a(xe),a(M),b((B,w)=>{sa(M,1,B,"svelte-1t1j5m0"),p(J,w)},[()=>ca(_a("btn hover:bg-secondary-500/50 w-1/5 rounded-sm p-2 2xl:p-4",e(u)===c()?"bg-secondary-800":"")),()=>c().charAt(0).toUpperCase()+c().slice(1)]),l(o,M)},L=(o,c=Se)=>{var M=Tt(),xe=t(M);{var J=w=>{lt(w,{get preset(){return e(n)[c()]},set preset(F){e(n)[c()]=F}})},B=w=>{var F=ce(),P=X(F);{var x=I=>{ct(I,{get preset(){return e(n)[c()]},set preset(re){e(n)[c()]=re}})},K=I=>{var re=ce(),ue=X(re);{var he=V=>{ft(V,{get preset(){return e(n)[c()]},set preset(C){e(n)[c()]=C}})},ge=V=>{var C=ce(),R=X(C);{var Y=N=>{St(N,{get preset(){return e(n)[c()]},set preset(h){e(n)[c()]=h}})},oe=N=>{var h=ce(),Q=X(h);{var d=D=>{At(D,{get preset(){return e(n)[c()]},set preset(fe){e(n)[c()]=fe}})},k=D=>{var fe=Lt();l(D,fe)};_(Q,D=>{e(u)==="storage"&&e(n)[c()].storage_container?D(d):D(k,!1)},!0)}l(N,h)};_(R,N=>{e(u)==="inventory"?N(Y):N(oe,!1)},!0)}l(V,C)};_(ue,V=>{e(u)==="passive"&&e(n)[c()].skills?V(he):V(ge,!1)},!0)}l(I,re)};_(P,I=>{e(u)==="active"&&e(n)[c()].skills?I(x):I(K,!1)},!0)}l(w,F)};_(xe,w=>{e(u)==="pal"&&e(n)[c()].pal_preset?w(J):w(B,!1)})}a(M),l(o,M)},j=Oa(),H=Ca(),E=Sa(()=>{},300);let u=ia("pal"),y=ia(""),n=ia(pa([]));const A=q(()=>e(u)==="active"||e(u)==="passive"?"grid grid-cols-2":"flex flex-col"),$=q(()=>Object.values(U.presetProfiles).filter(o=>o.type==="pal_preset").map(o=>({...o,id:Object.keys(U.presetProfiles)[Object.values(U.presetProfiles).findIndex(c=>c===o)]}))),pe=q(()=>Object.values(U.presetProfiles).filter(o=>o.type==="inventory").map(o=>({...o,id:Object.keys(U.presetProfiles)[Object.values(U.presetProfiles).findIndex(c=>c===o)]}))),me=q(()=>Object.values(U.presetProfiles).filter(o=>o.type==="passive_skills").map(o=>({...o,id:Object.keys(U.presetProfiles)[Object.values(U.presetProfiles).findIndex(c=>c===o)]}))),ee=q(()=>Object.values(U.presetProfiles).filter(o=>o.type==="active_skills").map(o=>({...o,id:Object.keys(U.presetProfiles)[Object.values(U.presetProfiles).findIndex(c=>c===o)]}))),T=q(()=>Object.values(U.presetProfiles).filter(o=>o.type==="storage").map(o=>({...o,id:Object.keys(U.presetProfiles)[Object.values(U.presetProfiles).findIndex(c=>c===o)]}))),O=q(()=>{let o=[];switch(e(u)){case"pal":o=e($);break;case"inventory":o=e(pe);break;case"passive":o=e(me);break;case"active":o=e(ee);break;case"storage":o=e(T);break}return e(y)&&(o=o.filter(c=>c.name.toLowerCase().includes(e(y).toLowerCase()))),o});async function W(){if(e(n).length===0)return;if(await j.showConfirmModal({title:`Delete Preset${e(n).length>1?"s":""}`,message:`Are you sure you want to delete the ${e(n).length} selected preset${e(n).length>1?"s":""}?`,confirmText:"Delete",cancelText:"Cancel"})){const c=e(n).map(M=>M.id);await U.removePresetProfiles(c),H.add(`Deleted ${e(n).length} preset${e(n).length>1?"s":""}`,void 0,"success"),je(n,[],!0)}}async function ae(o){await j.showConfirmModal({title:"Delete Preset?",message:"Are you sure you want to delete this selected preset?",confirmText:"Delete",cancelText:"Cancel"})&&(U.removePresetProfiles([o.id]),je(n,e(n).filter(M=>M.id!==o.id),!0),H.add(`Deleted preset "${o.name}"`,void 0,"success"))}ba(()=>{e(y)&&E()});async function te(o){await U.exportPreset(o.id,e(u),o.name)}async function _e(){await U.importPreset()}var se=Kt(),G=t(se),m=t(G),z=t(m),de=t(z),le=t(de);i(le,()=>"pal");var ne=s(le,2);i(ne,()=>"inventory");var f=s(ne,2);i(f,()=>"passive");var g=s(f,2);i(g,()=>"active");var We=s(g,2);i(We,()=>"storage"),a(de),a(z);var Le=s(z,2),Ie=t(Le),Ge=t(Ie);ja(Ge,{placeholder:"Search presets...",inputClass:"w-full",get value(){return e(y)},set value(o){je(y,o,!0)}}),a(Ie);var Ve=s(Ie,2);ea(Ve,{popupLabel:"Clear Search",onclick:()=>{je(y,"")},children:(o,c)=>{qa(o,{class:"h-6 w-6"})},$$slots:{default:!0}}),a(Le);var Ke=s(Le,2),Te=t(Ke);ea(Te,{popupLabel:"Import preset from file",onclick:_e,buttonClass:"hover:bg-success-500/50",children:(o,c)=>{Aa(o,{size:20})},$$slots:{default:!0}});var Ye=s(Te,2);{let o=q(()=>e(n).length===0);ea(Ye,{popupLabel:"Delete selected preset(s)",onclick:W,buttonClass:"hover:bg-error-500/50",get disabled(){return e(o)},children:(c,M)=>{da(c,{size:20})},$$slots:{default:!0}})}a(Ke);var Qe=s(Ke,2);Da(Qe,{get items(){return e(O)},listClass:"h-[calc(100vh-250px)] overflow-y-auto",multiple:!0,headerClass:"grid w-full grid-cols-[auto_1fr_auto] gap-2 rounded-sm",get selectedItems(){return e(n)},set selectedItems(J){je(n,J,!0)},listHeader:J=>{var B=zt();ha(2),l(J,B)},listItem:(J,B=Se)=>{var w=Nt(),F=t(w,!0);a(w),b(()=>p(F,B().name)),l(J,w)},listItemActions:(J,B=Se)=>{var w=qt(),F=X(w);ea(F,{popupLabel:"Export preset to file",onclick:()=>te(B()),buttonClass:"hover:bg-primary-500/25 p-2",children:(K,I)=>{La(K,{size:16})},$$slots:{default:!0}});var P=s(F,2);P.__click=[Bt,ae,B];var x=t(P);da(x,{size:16}),a(P),l(J,w)},listItemPopup:(J,B=Se)=>{var w=Et(),F=t(w),P=t(F,!0);a(F);var x=s(F,2),K=t(x);a(x),a(w),b(()=>{p(P,B().name),p(K,`Type: ${B().type??""}`)}),l(J,w)},$$slots:{listHeader:!0,listItem:!0,listItemActions:!0,listItemPopup:!0}}),a(m);var Je=s(m,2),ze=t(Je),Xe=t(ze);{var Ze=o=>{L(o,()=>0)},ra=o=>{var c=ce(),M=X(c);{var xe=B=>{var w=Ht();Ae(w,21,()=>e(n),De,(F,P,x)=>{L(F,()=>x)}),a(w),b(()=>sa(w,1,`${e(A)??""} gap-2`,"svelte-1t1j5m0")),l(B,w)},J=B=>{var w=Ft(),F=t(w),P=s(F,6);aa(P,{label:"Nuke all preset",children:(x,K)=>{var I=Mt();I.__click=[Dt,j];var re=t(I);Ba(re,{size:120}),a(I),l(x,I)},$$slots:{default:!0}}),a(w),b(()=>S(F,"src",be.sadIcon)),l(B,w)};_(M,B=>{e(n).length>1?B(xe):B(J,!1)},!0)}l(o,c)};_(Xe,o=>{e(n).length===1?o(Ze):o(ra,!1)})}a(ze),a(Je),a(G),a(se),l(Z,se),Ce()}ga(["click"]);export{Xt as component};
