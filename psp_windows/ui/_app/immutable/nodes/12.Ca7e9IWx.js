import{l as Oe,b as Ee,p as Z,i as bt,c as le}from"../chunks/woX702LQ.js";import{e as Lt,g as it,h as b,p as pe,z as K,N as Se,f as S,j as xe,i as e,u as E,s as Kt,a as fe,d as dt,O as Le,l as De,c as i,r as c,b as f,n as Ot,t as Et,k as O}from"../chunks/B9aKyTE9.js";import{I as Ne,b as Be,u as m,g as ge,v as St,f as Dt,w as ce,x as kt,S as Re,l as je,T as ze,E as We,a as Xe,y as Ye,d as Ue,M as Ge,h as ie,j as de,s as ue}from"../chunks/FTlQNedl.js";import{b as ot,s as V,A as Ht}from"../chunks/DPqr1Em3.js";import{m as L}from"../chunks/BxtrYP92.js";import{a as He}from"../chunks/Dr9RPzdF.js";function Ze(n,o){const t=Oe(o,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"6"}],["circle",{cx:"12",cy:"12",r:"2"}]];Ne(n,Ee({name:"target"},()=>t,{get iconNode(){return v},children:(k,d)=>{var P=Lt(),N=it(P);Be(N,o,"default",{},null),b(k,P)},$$slots:{default:!0}}))}const me=123930,he=157935,Nt=459,ut=8192,Ve=-1951,Ke=-1893,qe=1198,Je=1243,Zt=0,Vt=0,Qe=qe-Ve,to=Je-Ke,Mt=ut/Qe,$t=5075.45,Pt=-ut/to,Ct=4960.62;function M(n,o){const t=Math.round((o-he)/Nt),v=Math.round((n+me)/Nt)*-1;return{x:t,y:v}}function qt(n,o){const t=o*-1*Nt-me,v=n*Nt+he;return{x:t,y:v}}function j(n,o){const t=M(n,o),v=Mt*t.x+$t,k=Pt*t.y+Ct;return m.latLng(k,v)}function ve(n){const o=(n.lng-$t)/Mt,t=(n.lat-Ct)/Pt,v=qt(o,t);return{worldX:v.x,worldY:v.y}}var eo=S('<div class="h-full w-full" id="map"></div>');function oo(n,o){pe(o,!0);let t=Z(o,"map",15),v=Z(o,"showOrigin",3,!1),k=Z(o,"showPlayers",3,!0),d=Z(o,"showBases",3,!0),P=Z(o,"showFastTravel",3,!0),N=Z(o,"showDungeons",3,!0),B=Z(o,"showAlphaPals",3,!0),z=Z(o,"showPredatorPals",3,!0);const y=ge(),q=E(()=>{const s=qt(Zt,Vt),a=j(s.x,s.y);return[a.lat,a.lng]}),at=m.extend({},m.CRS.Simple,{transformation:new m.Transformation(Mt,$t,Pt,Ct)}),st=[[0,0],[ut,ut]];let R=[],W=[],F=[],J=[],p=[],T=[],vt=[];const Ft={center:[0,0],crs:at,minZoom:-4,maxZoom:3,maxBounds:st,maxBoundsViscosity:1};function pt(){return m.icon({iconUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23FFFFFF' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cline x1='12' y1='2' x2='12' y2='22' stroke='%23FFFFFF' stroke-width='2'/%3E%3Cline x1='2' y1='12' x2='22' y2='12' stroke='%23FFFFFF' stroke-width='2'/%3E%3C/svg%3E",iconSize:[24,24],iconAnchor:[12,12],popupAnchor:[0,-12]})}function rt(){if(!t()||(R.forEach(U=>t().removeLayer(U)),R=[],!v()))return;const s=qt(Zt,Vt),a=j(s.x,s.y),l=pt(),r=m.marker(a,{icon:l}).addTo(t());r.bindPopup(`
            <div>
                <h3 class="text-lg font-bold">Origin (0,0)</h3>
                <p>This is the origin (0,0) in map coordinates</p>
                <p class="text-xs mt-2">World Coords: ${s.x.toFixed(2)}, ${s.y.toFixed(2)}</p>
                <p class="text-xs">Map Coords: ${Zt}, ${Vt}</p>
                <p class="text-xs">Leaflet Coords: ${a.lat.toFixed(2)}, ${a.lng.toFixed(2)}</p>
            </div>
        `),R.push(r);const x=m.polyline([[a.lat,0],[a.lat,ut]],{color:"rgba(255, 255, 255, 0.5)",weight:1,dashArray:"5,5"}).addTo(t()),g=m.polyline([[0,a.lng],[ut,a.lng]],{color:"rgba(255, 255, 255, 0.5)",weight:1,dashArray:"5,5"}).addTo(t());R.push(x),R.push(g)}function xt(){if(!t()||(F.forEach(r=>t().removeLayer(r)),F=[],!d()))return;const a=Object.values(y.guilds||{}).reduce((r,x)=>(x.bases&&Object.values(x.bases).forEach(g=>{r.push(g)}),r),[]),l=St.baseCamp;a.forEach(r=>{if(!r.location)return;const x=j(r.location.x,r.location.y),g=m.marker(x,{icon:l}).addTo(t());g.bindPopup(`
            <div>
				<h3 class="text-lg font-bold">${r.name}</h3>
                <h4 class="text-xs font-light">ID: ${r.id}</h4>
                <div>
					<span class="text-xs">World Coords: ${r.location.x.toFixed(2)}, ${r.location.y.toFixed(2)}</span>
                	<span class="text-xs">Map Coords: ${M(r.location.x,r.location.y).x}, ${M(r.location.x,r.location.y).y*-1}</span>
				</div>
            </div>
        `),o.onEditBaseName&&g.on("contextmenu",U=>{U.originalEvent.preventDefault(),o.onEditBaseName(r)}),F.push(g)})}function nt(){if(!t()||(W.forEach(l=>t().removeLayer(l)),W=[],!k()))return;const s=Object.values(y.players||{}),a=St.player;s.forEach(l=>{if(!l.location)return;const r=j(l.location.x,l.location.y),x=m.marker(r,{icon:a}).addTo(t());x.bindPopup(`
                <div>
                    <h3 class="text-lg font-bold">${l.nickname}</h3>
					<p class="text-xs">Last Online: ${new Date(l.last_online_time).toLocaleString()}</p>
                    <p class="text-xs">Level: ${l.level}</p>
                    <p class="text-xs">HP: ${l.hp}</p>
                    <p class="text-xs mt-2">World Coords: ${l.location.x.toFixed(2)}, ${l.location.y.toFixed(2)}, ${l.location.z.toFixed(2)}</p>
                    <p class="text-xs">Map Coords: ${M(l.location.x,l.location.y).x}, ${M(l.location.x,l.location.y).y*-1}</p>
                </div>
            `),W.push(x)})}async function lt(){if(!t()||(J.forEach(a=>t().removeLayer(a)),J=[],!P())||!L)return;const s=St.fastTravel;L.points.filter(a=>a.type==="fast_travel").forEach(a=>{const l=j(a.x,a.y),r=m.marker(l,{icon:s}).addTo(t());r.bindPopup(`
					<div>
						<h3 class="text-lg font-bold">${a.localized_name}</h3>
						<p class="text-xs mt-2">World Coords: ${a.x.toFixed(2)}, ${a.y.toFixed(2)}</p>
						<p class="text-xs">Map Coords: ${M(a.x,a.y).x}, ${M(a.x,a.y).y*-1}</p>
					</div>
				`),J.push(r)})}async function Tt(){if(!t()||(p.forEach(a=>t().removeLayer(a)),p=[],!N())||!L)return;const s=St.dungeon;L.points.filter(a=>a.type==="dungeon").forEach(a=>{const l=j(a.x,a.y),r=m.marker(l,{icon:s}).addTo(t());r.bindPopup(`
					<div>
						<p class="text-xs mt-2">World Coords: ${a.x.toFixed(2)}, ${a.y.toFixed(2)}</p>
						<p class="text-xs">Map Coords: ${M(a.x,a.y).x}, ${M(a.x,a.y).y*-1}</p>
					</div>
				`),p.push(r)})}async function ft(){t()&&(T.forEach(s=>t().removeLayer(s)),T=[],B()&&L&&L.points.filter(s=>s.type==="alpha_pal").forEach(s=>{const a=j(s.x,s.y),l=Dt.loadMenuImage(s.pal),r=ce.getByKey(s.pal),x=m.icon({iconUrl:l,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],className:"rounded-full border-2 border-white"}),g=m.marker(a,{icon:x}).addTo(t());g.bindPopup(`
					<div>
						<h3 class="text-lg font-bold">${r?r.localized_name:s.pal}</h3>
						<p class="text-xs mt-2">World Coords: ${s.x.toFixed(2)}, ${s.y.toFixed(2)}</p>
						<p class="text-xs">Map Coords: ${M(s.x,s.y).x}, ${M(s.x,s.y).y*-1}</p>
					</div>
				`),T.push(g)}))}async function Y(){t()&&(vt.forEach(s=>t().removeLayer(s)),vt=[],z()&&L&&L.points.filter(s=>s.type==="predator_pal").forEach(s=>{const a=j(s.x,s.y),l=Dt.loadMenuImage(s.pal),r=ce.getByKey(s.pal),x=m.icon({iconUrl:l,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],className:"rounded-full border-2 border-red-500"}),g=m.marker(a,{icon:x}).addTo(t());g.bindPopup(`
					<div>
						<h3 class="text-lg font-bold">${r?r.localized_name:s.pal}</h3>
						<p class="text-xs mt-2">World Coords: ${s.x.toFixed(2)}, ${s.y.toFixed(2)}</p>
						<p class="text-xs">Map Coords: ${M(s.x,s.y).x}, ${M(s.x,s.y).y*-1}</p>
					</div>
				`),vt.push(g)}))}function Bt(s){t(m.map(s,Ft)),m.imageOverlay(kt.worldMap,st).addTo(t()),t().fitBounds(st),t().on("click",a=>{const l=t()?.getZoom(),r=a.latlng,x=ve(r),g=(r.lng-$t)/Mt,U=(r.lat-Ct)/Pt*-1;console.log(`Zoom level: ${l}`),console.log(`Leaflet coords: [${r.lat.toFixed(2)}, ${r.lng.toFixed(2)}]`),console.log(`World coords: [${x.worldX.toFixed(2)}, ${x.worldY.toFixed(2)}]`),console.log(`Game Map coords: [${Math.round(g)}, ${Math.round(U)}]`)}),t().on("zoomend",()=>{console.log(`New zoom level: ${t()?.getZoom()}`)}),t().setView(e(q),-3),rt(),nt(),xt(),lt(),Tt(),ft(),Y(),Q()}function Q(){if(!t())return;const s=m.Control.extend({options:{position:"bottomright"},onAdd(){const a=m.DomUtil.create("div","coordinate-display");return a.style.backgroundColor="rgba(0, 0, 0, 0.7)",a.style.color="white",a.style.padding="5px 10px",a.style.borderRadius="4px",a.style.margin="0",a.style.fontFamily="monospace",a.style.fontSize="12px",a.style.lineHeight="1.4",a.innerHTML="Coordinates: 0, 0",a}});t().addControl(new s),t().on("mousemove",function(a){const l=document.querySelector(".coordinate-display");if(l){const r=ve(a.latlng),x=(a.latlng.lng-$t)/Mt,g=(a.latlng.lat-Ct)/Pt*-1;l.innerHTML=`
                    World: ${Math.round(r.worldX)}, ${Math.round(r.worldY)}<br>
                    Map: ${Math.round(x)}, ${Math.round(g)}
                `}})}K(()=>{t()&&rt()}),K(()=>{t()&&nt()}),K(()=>{t()&&xt()}),K(()=>{t()&&lt()}),K(()=>{t()&&Tt()}),K(()=>{t()&&ft()}),K(()=>{t()&&Y()}),Se(()=>{t()&&(t().remove(),t(void 0))});var gt=eo();He(gt,s=>Bt?.(s)),b(n,gt),xe()}function ao(n){const o=document.cookie.match(new RegExp("(^| )"+n+"=([^;]+)"));return o?decodeURIComponent(o[2]):null}function so(n,o,t={}){const{expireDays:v=365,maxAge:k,path:d="/",domain:P,secure:N=!1,sameSite:B="Lax",httpOnly:z=!1}=t;let y=`${n}=${encodeURIComponent(o)}`;if(y+=`; path=${d}`,k!==void 0)y+=`; max-age=${k}`;else{const q=new Date(Date.now()+v*864e5).toUTCString();y+=`; expires=${q}`}P&&(y+=`; domain=${P}`),N&&(y+="; secure"),y+=`; samesite=${B}`,z&&(y+="; httponly"),document.cookie=y}function ro(n,o={}){return n==="local"?{getItem:t=>localStorage.getItem(t),setItem:(t,v)=>localStorage.setItem(t,v)}:n==="session"?{getItem:t=>sessionStorage.getItem(t),setItem:(t,v)=>sessionStorage.setItem(t,v)}:{getItem:ao,setItem:(t,v)=>so(t,v,o)}}function no(n,o,t={}){const{storage:v="local",serializer:k=JSON,syncTabs:d=!0,cookieExpireDays:P,cookieOptions:N={},onWriteError:B=console.error,onParseError:z=console.error,beforeRead:y=p=>p,beforeWrite:q=p=>p}=t,at={...N,...P!==void 0&&{expireDays:P}},R=typeof window<"u"&&typeof document<"u"?ro(v,at):null;let W;try{const p=R?.getItem(n);W=p?y(k.parse(p)):o}catch(p){z(p),W=o}let F=Kt(fe(W));function J(p){try{const T=q(p);R?.setItem(n,k.stringify(T))}catch(T){B(T)}}return d&&typeof window<"u"&&v==="local"&&window.addEventListener("storage",p=>{if(p.key===n&&p.storageArea===localStorage)try{const T=p.newValue?k.parse(p.newValue):o;dt(F,y(T),!0)}catch(T){z(T)}}),Le(()=>(K(()=>{J(e(F))}),()=>{})),{get value(){return e(F)},set value(p){dt(F,p,!0)},get current(){return e(F)},set current(p){dt(F,p,!0)},reset(){dt(F,o,!0)}}}async function lo(n,o,t){if(await o.showConfirmModal({title:"Unlock Full Map",message:"This will unlock the entire map by modifying your LocalData.sav file. You will need to select your LocalData.sav file. Continue?",confirmText:"Select File",cancelText:"Cancel"})){const k=await Ue(Ge.UNLOCK_MAP,{}),{success:d,message:P}=k;d&&t.add(P,"Success!","success")}}var co=S('<button class="btn btn-sm flex items-center gap-2"><!> <span>Unlock Map</span></button>'),io=(n,o)=>e(o).showOrigin=!e(o).showOrigin,uo=(n,o)=>e(o).showFastTravel=!e(o).showFastTravel,vo=(n,o)=>e(o).showPlayers=!e(o).showPlayers,po=(n,o)=>e(o).showBases=!e(o).showBases,xo=S('<button><img alt="Players" class="mr-2 h-6 w-6"/> <span>Players</span> <span class="text-surface-500 text-xs"> </span></button> <button><img alt="Bases" class="mr-2 h-6 w-6"/> <span>Bases</span> <span class="text-surface-500 text-xs"> </span></button>',1),fo=(n,o)=>e(o).showDungeons=!e(o).showDungeons,go=(n,o)=>e(o).showAlphaPals=!e(o).showAlphaPals,mo=(n,o)=>e(o).showPredatorPals=!e(o).showPredatorPals,ho=S('<h2 class="text-lg font-bold">Players</h2>'),_o=(n,o,t)=>o(e(t)),yo=S('<button class="bg-surface-800 hover:bg-secondary-500/25 w-full rounded-sm p-2 text-start"><div class="font-bold"> </div> <div class="text-xs"> </div> <div class="text-xs text-gray-400"> </div> <div class="text-xs text-gray-400"> </div></button>'),wo=S('<div class="max-h-64 space-y-2 overflow-y-auto"></div>'),bo=S('<p class="text-sm text-gray-500">No players found.</p>'),ko=S('<h2 class="text-lg font-bold">Bases</h2>'),Mo=(n,o,t)=>o(e(t)),$o=(n,o,t)=>{n.preventDefault(),o(e(t))},Po=S('<button class="bg-surface-800 hover:bg-secondary-500/25 mb-2 w-full rounded-sm p-2 text-start"><div class="font-bold"> </div> <div class="text-xs text-gray-400"> </div> <div class="text-xs text-gray-400"> </div></button>'),Co=S('<div class="max-h-64 space-y-2 overflow-y-auto"></div>'),Fo=S('<p class="text-sm text-gray-500">No bases found.</p>'),To=S("<!> <!>",1),Ao=S('<div class="grid h-full grid-cols-[20%_1fr] gap-2"><div class="flex flex-col gap-4 p-4"><div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><div class="flex items-center"><!></div> <div class="grid grid-cols-2 gap-2"><button><!> <span>Origin</span></button> <button><img alt="Fast Travel" class="mr-2 h-6 w-6"/> <span>Fast Travel</span> <span class="text-surface-500 text-xs"> </span></button> <!> <button><img alt="Dungeons" class="mr-2 h-6 w-6"/> <span>Dungeons</span> <span class="text-surface-500 text-xs"> </span></button> <button><img alt="Alpha Pals" class="mr-2 h-6 w-6"/> <span>Alpha Pals</span> <span class="text-surface-500 text-xs"> </span></button> <button><img alt="Predator Pals" class="mr-2 h-6 w-6"/> <span>Predator Pals</span> <span class="text-surface-500 text-xs"> </span></button></div></div> <!> <div class="mt-auto flex flex-col gap-2"><p class="text-sm text-gray-500">Click on the map to see detailed coordinates.</p> <div class="flex flex-col"><div class="flex items-center gap-2"><img alt="Right Click" class=" h-6 w-6"/> <span class="text-xs text-gray-500">Left-click on a player or base to focus.</span></div> <div class="flex items-center gap-2"><img alt="Right Click" class=" h-6 w-6"/> <span class="text-xs text-gray-500">Right-click on a base to edit its name.</span></div></div></div></div></div> <!></div>');function No(n,o){pe(o,!0);const t=ge(),v=je(),k=no("mapOptions",{showOrigin:!1,showPlayers:!0,showBases:!0,showFastTravel:!0,showDungeons:!0,showAlphaPals:!0,showPredatorPals:!0}),d=E(()=>k.current),P=Xe();let N=Kt(fe(["players"])),B=Kt(void 0);const z=E(()=>Object.values(t.players||{})),y=E(()=>e(z).length),q=E(()=>Object.values(t.guilds||{})),at=E(()=>Object.values(e(q)).reduce((u,_)=>(_.bases&&Object.values(_.bases).forEach(h=>{u[h.id]=h}),u),{})),st=E(()=>Object.values(L.points).filter(u=>u.type==="fast_travel").length||0),R=E(()=>Object.values(L.points).filter(u=>u.type==="dungeon").length||0),W=E(()=>Object.values(L.points).filter(u=>u.type==="alpha_pal").length||0),F=E(()=>Object.values(L.points).filter(u=>u.type==="predator_pal").length||0),J=E(()=>Dt.loadMenuImage("anubis")),p=E(()=>Dt.loadMenuImage("nightbluehorse"));function T(u){const _=j(u.location.x,u.location.y);e(B)?.flyTo(_,3)}function vt(u){const _=j(u.location.x,u.location.y);e(B)?.flyTo(_,3)}async function Ft(u){const _=await v.showModal(ze,{title:"Edit Base Name",value:u.name||""});if(!_)return;const h=Object.values(t.guilds||{}).find(A=>A.bases&&Object.values(A.bases).some(X=>X.id===u.id));if(h&&h.bases){const A=Object.values(h.bases).find(X=>X.id===u.id);A&&(A.name=_,h.state=We.MODIFIED)}}var pt=Ao(),rt=i(pt),xt=i(rt),nt=i(xt),lt=i(nt),Tt=i(lt);Re(Tt,{text:"Map Options",action:_=>{var h=co();h.__click=[lo,v,P];var A=i(h);Ye(A,{class:"h-4 w-4"}),Ot(2),c(h),b(_,h)}}),c(lt);var ft=f(lt,2),Y=i(ft);Y.__click=[io,d];var Bt=i(Y);Ze(Bt,{class:"mr-2 h-6 w-6"}),Ot(2),c(Y);var Q=f(Y,2);Q.__click=[uo,d];var gt=i(Q),s=f(gt,4),a=i(s,!0);c(s),c(Q);var l=f(Q,2);{var r=u=>{var _=xo(),h=it(_);h.__click=[vo,d];var A=i(h),X=f(A,4),jt=i(X,!0);c(X),c(h);var G=f(h,2);G.__click=[po,d];var ct=i(G),C=f(ct,4),$=i(C,!0);c(C),c(G),Et(ht=>{ot(h,1,`flex items-center space-x-2 ${e(d).showPlayers?"":"opacity-25"}`),V(A,"src",kt.player),O(jt,e(y)),ot(G,1,`flex items-center space-x-2 ${e(d).showBases?"":"opacity-25"}`),V(ct,"src",kt.baseCamp),O($,ht)},[()=>Object.keys(e(at)).length]),b(u,_)};bt(l,u=>{t.saveFile&&u(r)})}var x=f(l,2);x.__click=[fo,d];var g=i(x),U=f(g,4),_e=i(U,!0);c(U),c(x);var mt=f(x,2);mt.__click=[go,d];var Jt=i(mt),Qt=f(Jt,4),ye=i(Qt,!0);c(Qt),c(mt);var At=f(mt,2);At.__click=[mo,d];var te=i(At),ee=f(te,4),we=i(ee,!0);c(ee),c(At),c(ft),c(nt);var oe=f(nt,2);{var be=u=>{Ht(u,{get value(){return e(N)},onValueChange:_=>dt(N,_.value,!0),collapsible:!0,children:(_,h)=>{var A=To(),X=it(A);{const G=C=>{var $=ho();b(C,$)},ct=C=>{var $=Lt(),ht=it($);{var zt=I=>{var D=wo();ie(D,21,()=>e(z),de,(Xt,w)=>{var H=Lt(),_t=it(H);{var Yt=tt=>{const It=E(()=>M(e(w).location.x,e(w).location.y));var et=yo();et.__click=[_o,T,w];var yt=i(et),Ut=i(yt,!0);c(yt);var wt=f(yt,2),Pe=i(wt);c(wt);var Gt=f(wt,2),Ce=i(Gt);c(Gt);var ne=f(Gt,2),Fe=i(ne);c(ne),c(et),Et((Te,Ae,Ie)=>{O(Ut,e(w).nickname),O(Pe,`Level: ${e(w).level??""} | HP: ${e(w).hp??""}`),O(Ce,`Location: ${Te??""}, ${Ae??""}`),O(Fe,`Last Online: ${Ie??""}`)},[()=>Math.round(e(It).x),()=>Math.round(e(It).y),()=>new Date(e(w).last_online_time).toLocaleString()]),b(tt,et)};bt(_t,tt=>{e(w).location&&tt(Yt)})}b(Xt,H)}),c(D),b(I,D)},Wt=I=>{var D=bo();b(I,D)};bt(ht,I=>{e(d).showPlayers&&e(y)>0?I(zt):I(Wt,!1)})}b(C,$)};le(X,()=>Ht.Item,(C,$)=>{$(C,{value:"players",controlHover:"hover:bg-secondary-500/25",control:G,panel:ct,$$slots:{control:!0,panel:!0}})})}var jt=f(X,2);{const G=C=>{var $=ko();b(C,$)},ct=C=>{var $=Lt(),ht=it($);{var zt=I=>{var D=Co();ie(D,21,()=>Object.values(e(at)),de,(Xt,w)=>{var H=Po();H.__click=[Mo,vt,w],H.__contextmenu=[$o,Ft,w];var _t=i(H),Yt=i(_t,!0);c(_t);var tt=f(_t,2),It=i(tt);c(tt);var et=f(tt,2),yt=i(et);c(et),c(H),Et((Ut,wt)=>{O(Yt,e(w).name),O(It,`ID: ${e(w).id??""}`),O(yt,`Location: ${Ut??""}, ${wt??""}`)},[()=>M(e(w).location.x,e(w).location.y).x,()=>M(e(w).location.x,e(w).location.y).y]),b(Xt,H)}),c(D),b(I,D)},Wt=I=>{var D=Fo();b(I,D)};bt(ht,I=>{e(d).showBases?I(zt):I(Wt,!1)})}b(C,$)};le(jt,()=>Ht.Item,(C,$)=>{$(C,{value:"bases",controlHover:"hover:bg-secondary-500/25",control:G,panel:ct,$$slots:{control:!0,panel:!0}})})}b(_,A)},$$slots:{default:!0}})};bt(oe,u=>{t.saveFile&&u(be)})}var ae=f(oe,2),se=f(i(ae),2),Rt=i(se),ke=i(Rt);Ot(2),c(Rt);var re=f(Rt,2),Me=i(re);Ot(2),c(re),c(se),c(ae),c(xt),c(rt);var $e=f(rt,2);oo($e,{get showOrigin(){return e(d).showOrigin},get showPlayers(){return e(d).showPlayers},get showBases(){return e(d).showBases},get showFastTravel(){return e(d).showFastTravel},get showDungeons(){return e(d).showDungeons},get showAlphaPals(){return e(d).showAlphaPals},get showPredatorPals(){return e(d).showPredatorPals},onEditBaseName:Ft,get map(){return e(B)},set map(u){dt(B,u,!0)}}),c(pt),Et(()=>{ot(Y,1,`flex items-center space-x-2 ${e(d).showOrigin?"":"opacity-25"}`),ot(Q,1,`flex items-center space-x-2 ${e(d).showFastTravel?"":"opacity-25"} `),V(gt,"src",kt.fastTravel),O(a,e(st)),ot(x,1,`flex items-center space-x-2 ${e(d).showDungeons?"":"opacity-25"}`),V(g,"src",kt.dungeon),O(_e,e(R)),ot(mt,1,`flex items-center space-x-2 ${e(d).showAlphaPals?"":"opacity-25"}`),V(Jt,"src",e(J)),O(ye,e(W)),ot(At,1,`flex items-center space-x-2 ${e(d).showPredatorPals?"":"opacity-25"}`),V(te,"src",e(p)),O(we,e(F)),V(ke,"src",ue.leftClickIcon),V(Me,"src",ue.rightClickIcon)}),b(n,pt),xe()}De(["click","contextmenu"]);export{No as component};
