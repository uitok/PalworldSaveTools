import{s as t,a as e,i as a,d as i}from"./B9aKyTE9.js";import{d as o,M as n}from"./FTlQNedl.js";class r{loading=!1;#s=t(e([]));get points(){return a(this.#s)}set points(s){i(this.#s,s,!0)}async ensureLoaded(){if(this.points.length===0&&!this.loading)try{this.loading=!0,this.points=await o(n.GET_MAP_OBJECTS),this.loading=!1}catch(s){throw this.loading=!1,console.error("Error fetching active skills:",s),s}this.loading&&(await new Promise(s=>setTimeout(s,100)),await this.ensureLoaded())}async getMapObjects(){return await this.ensureLoaded(),this.points}async reset(){this.points=[],await this.ensureLoaded()}}const l=new r;export{l as m};
